<template>
  <div class="project-content">
    <ProjectHeader
      title="American Chinese (Restaurant)"
      type="PUBLICATION / POSTER"
      date="Apr. 2023 - Apr. 2025"
    />

    <div class="project-image full-width">
      <img
        src="/publication/american-chinese/Restaurant1.jpg"
        alt="American Chinese Restaurant"
        loading="lazy"
      />
    </div>

    <div class="project-section intro-section">
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant2.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="text-container">
        <p>
          Many Chinese restaurants in NYC first impressed me with those 80's
          old-style because the owners started their business for survival and
          adapted the flavor to cater to American tastes. Around the topic of
          "American Chinese Restaurant", I conducted first-hand research and
          interviews with my ABC (American-born Chinese) friends. Through the
          investigation, I found that most Americans have stamped Chinese food
          as "cheap stuff" since takeout boxes, posters, and even menus were
          designed quickly and outdated. The font use and design aesthetic even
          lack reference to authentic Chinese culture. This project aims to show
          different aspects of Chinese restaurant stereotypes.
        </p>
      </div>
    </div>

    <div class="project-image-row" style="margin-bottom: 20px">
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant3.jpg"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant4.jpg"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
    </div>

    <div class="project-image-row">
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant7.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant11.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
    </div>

    <div class="project-image-row three-images">
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant5.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant6.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant8.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
    </div>

    <div class="project-image-row">
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant9.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/Restaurant10.JPG"
          alt="American Chinese Restaurant"
          loading="lazy"
        />
      </div>
    </div>

    <div class="project-description">
      <p>
        The graphic book will function as sarcasm to challenge the prejudiced
        attitude towards the Chinese community and culture, while the layout and
        design of the collage zine refer to some of the stereotyped styles.
        Being influenced by Asian Hate, many western people's impression about
        China are turning negatively. So I hope my book can be a medium to
        change their stereotypical mind about Chinese culture, food and
        community.
      </p>
    </div>

    <div class="project-image full-width">
      <img
        src="/publication/american-chinese/Restaurant12.jpg"
        alt="American Chinese Restaurant"
        loading="lazy"
      />
    </div>

    <div class="books">
      <div id="canvas">
        <div id="book-zoom">
          <div class="sj-book"></div>
        </div>
      </div>

      <div class="thumbnails">
        <div>
          <ul>
            <li class="i">
              <img
                src="/publication/american-chinese/pics/Process1.jpg"
                width="38"
                height="50"
                class="page-1"
              />
              <span>1</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process2.jpg"
                width="38"
                height="50"
                class="page-2"
              />
              <img
                src="/publication/american-chinese/pics/Process3.jpg"
                width="38"
                height="50"
                class="page-3"
              />
              <span>2-3</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process4.jpg"
                width="38"
                height="50"
                class="page-4"
              />
              <img
                src="/publication/american-chinese/pics/Process5.jpg"
                width="38"
                height="50"
                class="page-5"
              />
              <span>4-5</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process6.jpg"
                width="38"
                height="50"
                class="page-6"
              />
              <img
                src="/publication/american-chinese/pics/Process7.jpg"
                width="38"
                height="50"
                class="page-7"
              />
              <span>6-7</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process8.jpg"
                width="38"
                height="50"
                class="page-8"
              />
              <img
                src="/publication/american-chinese/pics/Process9.jpg"
                width="38"
                height="50"
                class="page-9"
              />
              <span>8-9</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process10.jpg"
                width="38"
                height="50"
                class="page-10"
              />
              <img
                src="/publication/american-chinese/pics/Process11.jpg"
                width="38"
                height="50"
                class="page-11"
              />
              <span>10-11</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process12.jpg"
                width="38"
                height="50"
                class="page-12"
              />
              <img
                src="/publication/american-chinese/pics/Process13.jpg"
                width="38"
                height="50"
                class="page-13"
              />
              <span>12-13</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process14.jpg"
                width="38"
                height="50"
                class="page-14"
              />
              <img
                src="/publication/american-chinese/pics/Process15.jpg"
                width="38"
                height="50"
                class="page-15"
              />
              <span>14-15</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process16.jpg"
                width="38"
                height="50"
                class="page-16"
              />
              <img
                src="/publication/american-chinese/pics/Process17.jpg"
                width="38"
                height="50"
                class="page-17"
              />
              <span>16-17</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process18.jpg"
                width="38"
                height="50"
                class="page-18"
              />
              <img
                src="/publication/american-chinese/pics/Process19.jpg"
                width="38"
                height="50"
                class="page-19"
              />
              <span>18-19</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process20.jpg"
                width="38"
                height="50"
                class="page-20"
              />
              <img
                src="/publication/american-chinese/pics/Process21.jpg"
                width="38"
                height="50"
                class="page-21"
              />
              <span>20-21</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process22.jpg"
                width="38"
                height="50"
                class="page-22"
              />
              <img
                src="/publication/american-chinese/pics/Process23.jpg"
                width="38"
                height="50"
                class="page-23"
              />
              <span>22-23</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process24.jpg"
                width="38"
                height="50"
                class="page-24"
              />
              <img
                src="/publication/american-chinese/pics/Process25.jpg"
                width="38"
                height="50"
                class="page-25"
              />
              <span>24-25</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process26.jpg"
                width="38"
                height="50"
                class="page-26"
              />
              <img
                src="/publication/american-chinese/pics/Process27.jpg"
                width="38"
                height="50"
                class="page-27"
              />
              <span>26-27</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process28.jpg"
                width="38"
                height="50"
                class="page-28"
              />
              <img
                src="/publication/american-chinese/pics/Process29.jpg"
                width="38"
                height="50"
                class="page-29"
              />
              <span>28-29</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process30.jpg"
                width="38"
                height="50"
                class="page-30"
              />
              <img
                src="/publication/american-chinese/pics/Process31.jpg"
                width="38"
                height="50"
                class="page-31"
              />
              <span>30-31</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process32.jpg"
                width="38"
                height="50"
                class="page-32"
              />
              <img
                src="/publication/american-chinese/pics/Process33.jpg"
                width="38"
                height="50"
                class="page-33"
              />
              <span>32-33</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process34.jpg"
                width="38"
                height="50"
                class="page-34"
              />
              <img
                src="/publication/american-chinese/pics/Process35.jpg"
                width="38"
                height="50"
                class="page-35"
              />
              <span>34-35</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process36.jpg"
                width="38"
                height="50"
                class="page-36"
              />
              <img
                src="/publication/american-chinese/pics/Process37.jpg"
                width="38"
                height="50"
                class="page-37"
              />
              <span>36-37</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process38.jpg"
                width="38"
                height="50"
                class="page-38"
              />
              <img
                src="/publication/american-chinese/pics/Process39.jpg"
                width="38"
                height="50"
                class="page-39"
              />
              <span>38-39</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process40.jpg"
                width="38"
                height="50"
                class="page-40"
              />
              <img
                src="/publication/american-chinese/pics/Process41.jpg"
                width="38"
                height="50"
                class="page-41"
              />
              <span>40-41</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process42.jpg"
                width="38"
                height="50"
                class="page-42"
              />
              <img
                src="/publication/american-chinese/pics/Process43.jpg"
                width="38"
                height="50"
                class="page-43"
              />
              <span>42-43</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process44.jpg"
                width="38"
                height="50"
                class="page-44"
              />
              <img
                src="/publication/american-chinese/pics/Process45.jpg"
                width="38"
                height="50"
                class="page-45"
              />
              <span>44-45</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process46.jpg"
                width="38"
                height="50"
                class="page-46"
              />
              <img
                src="/publication/american-chinese/pics/Process47.jpg"
                width="38"
                height="50"
                class="page-47"
              />
              <span>46-47</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process48.jpg"
                width="38"
                height="50"
                class="page-48"
              />
              <img
                src="/publication/american-chinese/pics/Process49.jpg"
                width="38"
                height="50"
                class="page-49"
              />
              <span>48-49</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process50.jpg"
                width="38"
                height="50"
                class="page-50"
              />
              <img
                src="/publication/american-chinese/pics/Process51.jpg"
                width="38"
                height="50"
                class="page-51"
              />
              <span>50-51</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process52.jpg"
                width="38"
                height="50"
                class="page-52"
              />
              <img
                src="/publication/american-chinese/pics/Process53.jpg"
                width="38"
                height="50"
                class="page-53"
              />
              <span>52-53</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process54.jpg"
                width="38"
                height="50"
                class="page-54"
              />
              <img
                src="/publication/american-chinese/pics/Process55.jpg"
                width="38"
                height="50"
                class="page-55"
              />
              <span>54-55</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process56.jpg"
                width="38"
                height="50"
                class="page-56"
              />
              <img
                src="/publication/american-chinese/pics/Process57.jpg"
                width="38"
                height="50"
                class="page-57"
              />
              <span>56-57</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process58.jpg"
                width="38"
                height="50"
                class="page-58"
              />
              <img
                src="/publication/american-chinese/pics/Process59.jpg"
                width="38"
                height="50"
                class="page-59"
              />
              <span>58-59</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process60.jpg"
                width="38"
                height="50"
                class="page-60"
              />
              <img
                src="/publication/american-chinese/pics/Process61.jpg"
                width="38"
                height="50"
                class="page-61"
              />
              <span>60-61</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process62.jpg"
                width="38"
                height="50"
                class="page-62"
              />
              <img
                src="/publication/american-chinese/pics/Process63.jpg"
                width="38"
                height="50"
                class="page-63"
              />
              <span>62-63</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process64.jpg"
                width="38"
                height="50"
                class="page-64"
              />
              <img
                src="/publication/american-chinese/pics/Process65.jpg"
                width="38"
                height="50"
                class="page-65"
              />
              <span>64-65</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process66.jpg"
                width="38"
                height="50"
                class="page-66"
              />
              <img
                src="/publication/american-chinese/pics/Process67.jpg"
                width="38"
                height="50"
                class="page-67"
              />
              <span>66-67</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process68.jpg"
                width="38"
                height="50"
                class="page-68"
              />
              <img
                src="/publication/american-chinese/pics/Process69.jpg"
                width="38"
                height="50"
                class="page-69"
              />
              <span>68-69</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process70.jpg"
                width="38"
                height="50"
                class="page-70"
              />
              <img
                src="/publication/american-chinese/pics/Process71.jpg"
                width="38"
                height="50"
                class="page-71"
              />
              <span>70-71</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process72.jpg"
                width="38"
                height="50"
                class="page-72"
              />
              <img
                src="/publication/american-chinese/pics/Process73.jpg"
                width="38"
                height="50"
                class="page-73"
              />
              <span>72-73</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process74.jpg"
                width="38"
                height="50"
                class="page-74"
              />
              <img
                src="/publication/american-chinese/pics/Process75.jpg"
                width="38"
                height="50"
                class="page-75"
              />
              <span>74-75</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process76.jpg"
                width="38"
                height="50"
                class="page-76"
              />
              <img
                src="/publication/american-chinese/pics/Process77.jpg"
                width="38"
                height="50"
                class="page-77"
              />
              <span>76-77</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process78.jpg"
                width="38"
                height="50"
                class="page-78"
              />
              <img
                src="/publication/american-chinese/pics/Process79.jpg"
                width="38"
                height="50"
                class="page-79"
              />
              <span>78-79</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process80.jpg"
                width="38"
                height="50"
                class="page-80"
              />
              <img
                src="/publication/american-chinese/pics/Process81.jpg"
                width="38"
                height="50"
                class="page-81"
              />
              <span>80-81</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process82.jpg"
                width="38"
                height="50"
                class="page-82"
              />
              <img
                src="/publication/american-chinese/pics/Process83.jpg"
                width="38"
                height="50"
                class="page-83"
              />
              <span>82-83</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process84.jpg"
                width="38"
                height="50"
                class="page-84"
              />
              <img
                src="/publication/american-chinese/pics/Process85.jpg"
                width="38"
                height="50"
                class="page-85"
              />
              <span>84-85</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process86.jpg"
                width="38"
                height="50"
                class="page-86"
              />
              <img
                src="/publication/american-chinese/pics/Process87.jpg"
                width="38"
                height="50"
                class="page-87"
              />
              <span>86-87</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process88.jpg"
                width="38"
                height="50"
                class="page-88"
              />
              <img
                src="/publication/american-chinese/pics/Process89.jpg"
                width="38"
                height="50"
                class="page-89"
              />
              <span>88-89</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process90.jpg"
                width="38"
                height="50"
                class="page-90"
              />
              <img
                src="/publication/american-chinese/pics/Process91.jpg"
                width="38"
                height="50"
                class="page-91"
              />
              <span>90-91</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process92.jpg"
                width="38"
                height="50"
                class="page-92"
              />
              <img
                src="/publication/american-chinese/pics/Process93.jpg"
                width="38"
                height="50"
                class="page-93"
              />
              <span>92-93</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process94.jpg"
                width="38"
                height="50"
                class="page-94"
              />
              <img
                src="/publication/american-chinese/pics/Process95.jpg"
                width="38"
                height="50"
                class="page-95"
              />
              <span>94-95</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process96.jpg"
                width="38"
                height="50"
                class="page-96"
              />
              <img
                src="/publication/american-chinese/pics/Process97.jpg"
                width="38"
                height="50"
                class="page-97"
              />
              <span>96-97</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process98.jpg"
                width="38"
                height="50"
                class="page-98"
              />
              <img
                src="/publication/american-chinese/pics/Process99.jpg"
                width="38"
                height="50"
                class="page-99"
              />
              <span>98-99</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process100.jpg"
                width="38"
                height="50"
                class="page-100"
              />
              <img
                src="/publication/american-chinese/pics/Process101.jpg"
                width="38"
                height="50"
                class="page-101"
              />
              <span>100-101</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process102.jpg"
                width="38"
                height="50"
                class="page-102"
              />
              <img
                src="/publication/american-chinese/pics/Process103.jpg"
                width="38"
                height="50"
                class="page-103"
              />
              <span>102-103</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process104.jpg"
                width="38"
                height="50"
                class="page-104"
              />
              <img
                src="/publication/american-chinese/pics/Process105.jpg"
                width="38"
                height="50"
                class="page-105"
              />
              <span>104-105</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process106.jpg"
                width="38"
                height="50"
                class="page-106"
              />
              <img
                src="/publication/american-chinese/pics/Process107.jpg"
                width="38"
                height="50"
                class="page-107"
              />
              <span>106-107</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process108.jpg"
                width="38"
                height="50"
                class="page-108"
              />
              <img
                src="/publication/american-chinese/pics/Process109.jpg"
                width="38"
                height="50"
                class="page-109"
              />
              <span>108-109</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process110.jpg"
                width="38"
                height="50"
                class="page-110"
              />
              <img
                src="/publication/american-chinese/pics/Process111.jpg"
                width="38"
                height="50"
                class="page-111"
              />
              <span>110-111</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process112.jpg"
                width="38"
                height="50"
                class="page-112"
              />
              <img
                src="/publication/american-chinese/pics/Process113.jpg"
                width="38"
                height="50"
                class="page-113"
              />
              <span>112-113</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process114.jpg"
                width="38"
                height="50"
                class="page-114"
              />
              <img
                src="/publication/american-chinese/pics/Process115.jpg"
                width="38"
                height="50"
                class="page-115"
              />
              <span>114-115</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process116.jpg"
                width="38"
                height="50"
                class="page-116"
              />
              <img
                src="/publication/american-chinese/pics/Process117.jpg"
                width="38"
                height="50"
                class="page-117"
              />
              <span>116-117</span>
            </li>
            <li class="d">
              <img
                src="/publication/american-chinese/pics/Process118.jpg"
                width="38"
                height="50"
                class="page-118"
              />
              <img
                src="/publication/american-chinese/pics/Process119.jpg"
                width="38"
                height="50"
                class="page-119"
              />
              <span>118-119</span>
            </li>

            <li class="i">
              <img
                src="/publication/american-chinese/pics/Process12.jpg"
                width="38"
                height="50"
                class="page-12"
              />
              <span>12</span>
            </li>
          </ul>
        </div>
      </div>

      <img
        class="left-arrow"
        src="/publication/american-chinese/pics/left-arrow.jpg"
      />
      <img
        class="right-arrow"
        src="/publication/american-chinese/pics/right-arrow.jpg"
      />
    </div>

    <div class="project-description">
      <p>
        This project extended this year into an exploration of the visual and
        cultural identity of Chinatowns through a series of posters and design
        experiments based on restaurant signage across Boston, San Francisco,
        and New York—three of the most prominent Chinatowns in the United
        States.
      </p>
      <p>
        I used field documentation and typographic observation as a starting
        point for visual reinterpretation. Through abstraction, remixing, and
        deconstruction, each poster investigates how signage reflects both
        cultural expression and cultural distortion. These visuals unpack how
        design choices reinforce or challenge Western expectations of
        "Chineseness."
      </p>
      <p>
        By comparing and reimagining signage across these three cities, the
        project reveals patterns, contradictions, and tensions between
        authenticity, appropriation, and adaptation. Mapping Out Chinatown is
        ultimately a visual reflection on how design shapes the way Chinese
        culture is seen, sold, and experienced in the American urban landscape.
      </p>
    </div>

    <div class="project-image full-width">
      <img
        src="/publication/american-chinese/map13.jpg"
        alt="Chinatown Map"
        loading="lazy"
      />
    </div>

    <div class="project-image-row">
      <div class="image-container">
        <img
          src="/publication/american-chinese/map14.jpg"
          alt="Chinatown Map"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/map15.jpeg"
          alt="Chinatown Map"
          loading="lazy"
        />
      </div>
    </div>

    <div class="project-image-row no-gap">
      <div class="image-container">
        <img
          src="/publication/american-chinese/map16.jpg"
          alt="Chinatown Map"
          loading="lazy"
        />
      </div>
      <div class="image-container">
        <img
          src="/publication/american-chinese/map17.jpg"
          alt="Chinatown Map"
          loading="lazy"
        />
      </div>
    </div>
  </div>
</template>

<script setup>
function loadApp() {
  const flipbook = $(".sj-book");

  // Check if the CSS was already loaded

  if (flipbook.width() == 0 || flipbook.height() == 0) {
    setTimeout(loadApp, 10);
    return;
  }

  // Mousewheel

  $("#book-zoom").mousewheel(function (_event, _delta, deltaX, _deltaY) {
    const data = $(this).data(),
      step = 30,
      flipbook = $(".sj-book"),
      actualPos = $("#slider").slider("value") * step;

    if (typeof data.scrollX === "undefined") {
      data.scrollX = actualPos;
      data.scrollPage = flipbook.turn("page");
    }

    data.scrollX = Math.min(
      $("#slider").slider("option", "max") * step,
      Math.max(0, data.scrollX + deltaX)
    );

    const actualView = Math.round(data.scrollX / step),
      page = Math.min(flipbook.turn("pages"), Math.max(1, actualView * 2 - 2));

    if ($.inArray(data.scrollPage, flipbook.turn("view", page)) == -1) {
      data.scrollPage = page;
      flipbook.turn("page", page);
    }

    if (data.scrollTimer) clearInterval(data.scrollTimer);

    data.scrollTimer = setTimeout(function () {
      data.scrollX = undefined;
      data.scrollPage = undefined;
      data.scrollTimer = undefined;
    }, 1000);
  });

  // Slider

  $("#slider").slider({
    min: 1,
    max: 100,

    start: function (_event, ui) {
      if (!window._thumbPreview) {
        _thumbPreview = $("<div />", { class: "thumbnail" }).html(
          "<div></div>"
        );
        setPreview(ui.value);
        _thumbPreview.appendTo($(ui.handle));
      } else setPreview(ui.value);

      moveBar(false);
    },

    slide: function (_event, ui) {
      setPreview(ui.value);
    },

    stop: function () {
      if (window._thumbPreview) _thumbPreview.removeClass("show");

      $(".sj-book").turn("page", Math.max(1, $(this).slider("value") * 2 - 2));
    },
  });

  $(document).keydown(function (e) {
    const previous = 37,
      next = 39;

    switch (e.keyCode) {
      case previous:
        $(".sj-book").turn("previous");

        break;
      case next:
        $(".sj-book").turn("next");

        break;
    }
  });

  // Flipbook

  flipbook.bind($.isTouch ? "touchend" : "click", zoomHandle);

  flipbook.turn({
    elevation: 50,
    acceleration: !isChrome(),
    autoCenter: true,
    gradients: true,
    duration: 1000,
    pages: 120,
    when: {
      turning: function (e, page, _view) {
        const book = $(this);
        const currentPage = book.turn("page");
        const pages = book.turn("pages");

        console.log("pages", pages);

        if (currentPage > 3 && currentPage < pages - 3) {
          if (page == 1) {
            book.turn("page", 2).turn("stop").turn("page", page);
            e.preventDefault();
            return;
          } else if (page == pages) {
            book
              .turn("page", pages - 1)
              .turn("stop")
              .turn("page", page);
            e.preventDefault();
            return;
          }
        } else if (page > 3 && page < pages - 3) {
          if (currentPage == 1) {
            book.turn("page", 2).turn("stop").turn("page", page);
            e.preventDefault();
            return;
          } else if (currentPage == pages) {
            book
              .turn("page", pages - 1)
              .turn("stop")
              .turn("page", page);
            e.preventDefault();
            return;
          }
        }

        updateDepth(book, page);
      },

      turned: function (_e, page, _view) {
        const book = $(this);

        if (page == 2 || page == 3) {
          book.turn("peel", "br");
        }

        updateDepth(book);

        $("#slider").slider("value", getViewNumber(book, page));

        book.turn("center");
      },

      start: function (_e, _pageObj) {
        moveBar(true);
      },

      end: function (_e, _pageObj) {
        const book = $(this);

        updateDepth(book);

        setTimeout(function () {
          $("#slider").slider("value", getViewNumber(book));
        }, 1);

        moveBar(false);
      },

      missing: function (_e, pages) {
        for (let i = 0; i < pages.length; i++) {
          addPage(pages[i], $(this));
        }
      },
    },
  });

  $("#slider").slider("option", "max", numberOfViews(flipbook));

  flipbook.addClass("animated");

  // Show canvas

  $("#canvas").css({ visibility: "" });

  $(".thumbnails li").on("click", (event) => {
    flipbook.turn("page", event.target.className.split("-")[1]);
  });

  $(".left-arrow").on("click", () => {
    flipbook.turn("previous");
  });

  $(".right-arrow").on("click", () => {
    flipbook.turn("next");
  });
}

// 页面加载完成后初始化
onMounted(() => {
  $("#canvas").css({ visibility: "hidden" });

  loadApp();
});
</script>

<style lang="scss" scoped>
.project-content {
  padding: variable.$spacing-md;
  max-width: 1200px;
  margin: 0 auto;
}

.project-meta {
  display: flex;
  margin: variable.$spacing-md 0 variable.$spacing-lg;
  gap: variable.$spacing-xl;

  .meta-item {
    h3 {
      font-size: variable.$font-size-base;
      font-weight: variable.$font-weight-bold;
      margin-bottom: variable.$spacing-xs;
    }

    p {
      font-size: variable.$font-size-base;
    }
  }
}

.project-description {
  margin: variable.$spacing-lg 0;
  max-width: 100%;

  p {
    margin-bottom: variable.$spacing-md;
    line-height: 1.6;
  }
}

.project-image {
  margin: variable.$spacing-lg 0;

  img {
    width: 100%;
    height: auto;

    @include mixins.shadow(light);
    @include mixins.transition(box-shadow, transform);

    &:hover {
      @include mixins.shadow(medium);
      transform: scale(1.01);
    }
  }

  &.full-width {
    margin: variable.$spacing-xl 0;
    width: 100%;
  }
}

.project-section {
  margin: variable.$spacing-xl 0;

  &.intro-section {
    display: flex;
    align-items: center;
    gap: 20px;

    .image-container {
      flex: 1;
      img {
        width: 100%;
        height: 100%;
      }
    }

    .text-container {
      flex: 1;

      p {
        line-height: 1.6;
      }
    }

    @include mixins.respond-to(medium) {
      flex-direction: column;

      .image-container,
      .text-container {
        width: 100%;
      }

      .text-container {
        margin-top: variable.$spacing-md;
      }
    }
  }
}

.project-image-row {
  display: flex;
  gap: 0;

  .image-container {
    flex: 1;
    line-height: 0;

    img {
      width: 100%;
      height: auto;
      display: block;

      @include mixins.shadow(light);
      @include mixins.transition(box-shadow, transform);

      &:hover {
        @include mixins.shadow(medium);
        transform: scale(1.01);
      }
    }
  }

  &.three-images {
    .image-container {
      flex: 1;
    }
  }

  &.no-gap {
    .image-container img {
      border-radius: 0;
    }
  }

  @include mixins.respond-to(medium) {
    flex-direction: column;

    .image-container {
      margin-bottom: variable.$spacing-md;

      &:last-child {
        margin-bottom: 0;
      }
    }

    &.three-images {
      .image-container {
        width: 100%;
      }
    }
  }
}

@include mixins.respond-to(medium) {
  .books {
    display: none;
  }
}
</style>
